[gd_scene load_steps=18 format=4 uid="uid://cwnxchldcdkvi"]

[ext_resource type="Script" path="res://main.gd" id="1_fku5e"]
[ext_resource type="Script" path="res://enemy_handler.gd" id="2_bq0ln"]
[ext_resource type="Script" path="res://debugger.gd" id="2_cps2i"]
[ext_resource type="Script" path="res://life_ball.gd" id="4_r1nko"]
[ext_resource type="PackedScene" uid="uid://dko267kiwqrej" path="res://Cursor.tscn" id="4_rtaki"]
[ext_resource type="Script" path="res://rope.gd" id="4_stxyo"]
[ext_resource type="Texture2D" uid="uid://b1gmcluru8s03" path="res://rope.png" id="5_i5372"]
[ext_resource type="Texture2D" uid="uid://dhhetpvpvr2pu" path="res://heart.png" id="8_fada7"]
[ext_resource type="Shader" path="res://shadow.gdshader" id="10_3mdde"]
[ext_resource type="Texture2D" uid="uid://b4io1udu228v" path="res://desert_tilemap.png" id="10_ayb05"]
[ext_resource type="PackedScene" uid="uid://bhm17hdfa3v45" path="res://CursorSpear.tscn" id="10_sjomg"]
[ext_resource type="Texture2D" uid="uid://dpc2piq7k5pnk" path="res://path.png" id="12_wdb7o"]
[ext_resource type="Script" path="res://arrow_path.gd" id="13_0x1qk"]

[sub_resource type="CircleShape2D" id="CircleShape2D_0f4qn"]
radius = 22.0227

[sub_resource type="ShaderMaterial" id="ShaderMaterial_wrh2r"]
shader = ExtResource("10_3mdde")
shader_parameter/drop_shadow_color = Color(0, 0, 0, 0.3)
shader_parameter/shadow_offset = 0.2
shader_parameter/f = 0.0

[sub_resource type="TileSetAtlasSource" id="TileSetAtlasSource_cqfvw"]
texture = ExtResource("10_ayb05")
texture_region_size = Vector2i(32, 32)
0:0/0 = 0
0:0/0/terrain_set = 0
0:0/0/terrain = 0
0:0/0/probability = 0.165
0:1/0 = 0
0:1/0/terrain_set = 0
0:1/0/terrain = 0
0:1/0/probability = 0.165
1:0/0 = 0
1:0/0/terrain_set = 0
1:0/0/terrain = 0
1:0/0/probability = 0.165
1:1/0 = 0
1:1/0/terrain_set = 0
1:1/0/terrain = 0
1:1/0/probability = 0.165
2:1/0 = 0
2:1/0/terrain_set = 0
2:1/0/terrain = 0
2:1/0/probability = 0.065
2:0/0 = 0
2:0/0/terrain_set = 0
2:0/0/terrain = 0

[sub_resource type="TileSet" id="TileSet_sgic3"]
tile_size = Vector2i(32, 32)
terrain_set_0/mode = 0
terrain_set_0/terrain_0/name = "Desert 0"
terrain_set_0/terrain_0/color = Color(0.5, 0.34375, 0.25, 1)
sources/0 = SubResource("TileSetAtlasSource_cqfvw")

[node name="main" type="Node2D"]
script = ExtResource("1_fku5e")

[node name="Control" type="Control" parent="."]
layout_mode = 3
anchors_preset = 0
offset_right = 40.0
offset_bottom = 40.0

[node name="Label" type="Label" parent="Control"]
layout_mode = 0
offset_right = 40.0
offset_bottom = 23.0
script = ExtResource("2_cps2i")

[node name="EnemyHandler" type="Node" parent="."]
script = ExtResource("2_bq0ln")

[node name="Timer" type="Timer" parent="EnemyHandler"]
wait_time = 0.5
autostart = true

[node name="Wall" type="StaticBody2D" parent="."]
visible = false
collision_layer = 16
collision_mask = 0

[node name="CollisionPolygon2D" type="CollisionPolygon2D" parent="Wall"]
polygon = PackedVector2Array(0, 1080, 0, 0, 1920, 0, 1920, 1080, 1920, 1164, 2031, 1165, 2024, -115, -115, -112, -107, 1169, 1920, 1164, 1920, 1080)

[node name="CursorHandler" type="Node" parent="."]

[node name="Cursor" parent="CursorHandler" instance=ExtResource("4_rtaki")]
unique_name_in_owner = true

[node name="DampedSpringJoint2D" type="DampedSpringJoint2D" parent="CursorHandler"]
node_a = NodePath("../Cursor")
node_b = NodePath("../LifeBall")
length = 100.0
damping = 0.2

[node name="Line2D" type="Line2D" parent="CursorHandler"]
z_index = 3
texture_filter = 1
texture_repeat = 2
closed = true
width = 32.0
texture = ExtResource("5_i5372")
texture_mode = 1
script = ExtResource("4_stxyo")

[node name="LifeBall" type="RigidBody2D" parent="CursorHandler"]
unique_name_in_owner = true
z_index = 2
collision_layer = 2
collision_mask = 20
gravity_scale = 0.0
lock_rotation = true
linear_damp = 6.0
script = ExtResource("4_r1nko")

[node name="Sprite2D" type="Sprite2D" parent="CursorHandler/LifeBall"]
texture_filter = 1
scale = Vector2(3, 3)
texture = ExtResource("8_fada7")

[node name="CollisionShape2D" type="CollisionShape2D" parent="CursorHandler/LifeBall"]
shape = SubResource("CircleShape2D_0f4qn")

[node name="CursorSpear" parent="CursorHandler" instance=ExtResource("10_sjomg")]
material = SubResource("ShaderMaterial_wrh2r")
position = Vector2(632.734, 594.258)

[node name="TileMapLayer" type="TileMapLayer" parent="."]
texture_filter = 1
scale = Vector2(3, 3)
tile_map_data = PackedByteArray("AAACAAAAAAACAAAAAAACAAEAAAACAAAAAAABAAEAAAACAAAAAAAAAAEAAAAAAAEAAAABAAAAAAAAAAEAAAAAAAAAAAABAAEAAAAAAAIAAAACAAAAAAABAAIAAAABAAAAAAABAAMAAAACAAAAAAACAAMAAAACAAAAAAACAAIAAAAAAAEAAAADAAIAAAACAAEAAAAEAAIAAAABAAAAAAADAAEAAAACAAAAAAADAAMAAAACAAAAAAAEAAMAAAACAAAAAAADAAAAAAAAAAEAAAAEAAAAAAACAAAAAAAFAAAAAAABAAEAAAAGAAAAAAACAAEAAAAGAAEAAAACAAAAAAAGAAIAAAABAAEAAAAFAAIAAAAAAAAAAAAFAAMAAAACAAAAAAAFAAEAAAACAAAAAAAEAAEAAAACAAAAAAAGAAMAAAACAAAAAAAHAAMAAAABAAEAAAABAAQAAAACAAAAAAAAAAQAAAACAAAAAAAAAAMAAAACAAAAAAACAAQAAAAAAAEAAAADAAQAAAACAAAAAAAAAAUAAAABAAAAAAABAAUAAAABAAAAAAACAAUAAAAAAAAAAAADAAUAAAABAAAAAAAEAAUAAAACAAAAAAAFAAUAAAABAAAAAAAGAAUAAAACAAAAAAAHAAUAAAACAAAAAAAIAAUAAAAAAAEAAAAJAAUAAAACAAAAAAAKAAUAAAACAAAAAAALAAUAAAABAAEAAAAKAAQAAAABAAEAAAAJAAQAAAACAAAAAAAIAAQAAAACAAAAAAAHAAQAAAACAAAAAAAGAAQAAAABAAEAAAAFAAQAAAABAAAAAAAEAAQAAAAAAAAAAAALAAQAAAACAAAAAAALAAMAAAAAAAEAAAALAAIAAAAAAAAAAAALAAEAAAACAAAAAAALAAAAAAACAAAAAAAKAAMAAAAAAAEAAAAKAAIAAAAAAAAAAAAKAAEAAAACAAAAAAAKAAAAAAACAAAAAAAJAAMAAAACAAAAAAAJAAIAAAAAAAAAAAAJAAEAAAABAAAAAAAJAAAAAAAAAAAAAAAIAAMAAAACAAAAAAAIAAIAAAACAAAAAAAIAAEAAAACAAAAAAAIAAAAAAACAAAAAAAHAAIAAAACAAAAAAAHAAEAAAACAAAAAAAHAAAAAAACAAAAAAAAAAYAAAABAAEAAAAAAAcAAAACAAAAAAAAAAgAAAAAAAAAAAAAAAkAAAACAAAAAAAAAAoAAAACAAAAAAAMAAAAAAACAAAAAAANAAAAAAAAAAEAAAAOAAAAAAACAAAAAAAPAAAAAAAAAAEAAAAQAAAAAAAAAAEAAAARAAAAAAACAAAAAAASAAAAAAACAAAAAAATAAAAAAACAAAAAAAUAAAAAAACAAAAAAAUAAsAAAACAAAAAAAUAAoAAAACAAAAAAAUAAkAAAACAAAAAAAUAAgAAAAAAAAAAAAUAAcAAAACAAAAAAAUAAYAAAACAAAAAAAUAAUAAAACAAAAAAAUAAQAAAAAAAEAAAAUAAMAAAAAAAAAAAAUAAIAAAAAAAEAAAAUAAEAAAACAAAAAAATAAsAAAACAAAAAAATAAoAAAAAAAAAAAATAAkAAAACAAAAAAATAAgAAAAAAAEAAAATAAcAAAACAAAAAAATAAYAAAABAAEAAAATAAUAAAABAAAAAAATAAQAAAACAAAAAAATAAMAAAABAAAAAAATAAIAAAACAAAAAAATAAEAAAACAAAAAAASAAsAAAACAAAAAAASAAoAAAABAAEAAAASAAkAAAACAAAAAAASAAgAAAACAAEAAAASAAcAAAACAAAAAAASAAYAAAACAAAAAAASAAUAAAAAAAAAAAASAAQAAAACAAAAAAASAAMAAAABAAAAAAASAAIAAAACAAAAAAASAAEAAAACAAAAAAARAAsAAAACAAAAAAARAAoAAAACAAAAAAARAAkAAAAAAAAAAAARAAgAAAACAAAAAAARAAcAAAACAAAAAAARAAYAAAACAAAAAAARAAUAAAACAAAAAAARAAQAAAACAAAAAAARAAMAAAABAAEAAAARAAIAAAAAAAAAAAARAAEAAAABAAEAAAAQAAsAAAACAAAAAAAQAAoAAAAAAAAAAAAQAAkAAAABAAEAAAAQAAgAAAACAAAAAAAQAAcAAAABAAAAAAAQAAYAAAACAAAAAAAQAAUAAAABAAAAAAAQAAQAAAACAAAAAAAQAAMAAAACAAAAAAAQAAIAAAAAAAEAAAAQAAEAAAACAAAAAAAPAAsAAAACAAAAAAAPAAoAAAACAAAAAAAPAAkAAAACAAAAAAAPAAgAAAABAAAAAAAPAAcAAAAAAAAAAAAPAAYAAAABAAEAAAAPAAUAAAACAAAAAAAPAAQAAAABAAAAAAAPAAMAAAACAAAAAAAPAAIAAAACAAAAAAAPAAEAAAACAAAAAAAOAAoAAAACAAEAAAAOAAkAAAAAAAEAAAAOAAgAAAABAAEAAAAOAAcAAAACAAAAAAAOAAYAAAAAAAAAAAAOAAUAAAABAAEAAAAOAAQAAAAAAAEAAAAOAAMAAAACAAAAAAAOAAIAAAAAAAAAAAAOAAEAAAAAAAEAAAANAAoAAAACAAAAAAANAAkAAAACAAAAAAANAAgAAAABAAAAAAANAAcAAAACAAAAAAANAAYAAAACAAAAAAANAAUAAAACAAAAAAANAAQAAAABAAAAAAANAAMAAAACAAAAAAANAAIAAAACAAAAAAANAAEAAAACAAAAAAAMAAoAAAACAAAAAAAMAAkAAAABAAEAAAAMAAgAAAACAAAAAAAMAAcAAAACAAAAAAAMAAYAAAACAAAAAAAMAAUAAAACAAAAAAAMAAQAAAAAAAEAAAAMAAMAAAACAAAAAAAMAAIAAAAAAAAAAAAMAAEAAAABAAAAAAALAAoAAAABAAEAAAALAAkAAAAAAAAAAAALAAgAAAACAAAAAAALAAcAAAAAAAAAAAALAAYAAAAAAAAAAAAKAAoAAAABAAEAAAAKAAkAAAACAAAAAAAKAAgAAAABAAEAAAAKAAcAAAACAAAAAAAKAAYAAAABAAEAAAAJAAoAAAACAAAAAAAJAAkAAAACAAAAAAAJAAgAAAACAAAAAAAJAAcAAAAAAAAAAAAJAAYAAAAAAAEAAAAIAAoAAAABAAEAAAAIAAkAAAACAAAAAAAIAAgAAAAAAAEAAAAIAAcAAAACAAAAAAAIAAYAAAACAAAAAAAHAAoAAAACAAAAAAAHAAkAAAABAAEAAAAHAAgAAAABAAAAAAAHAAcAAAABAAEAAAAHAAYAAAACAAAAAAAGAAoAAAAAAAEAAAAGAAkAAAACAAAAAAAGAAgAAAAAAAEAAAAGAAcAAAACAAAAAAAGAAYAAAACAAAAAAAFAAoAAAACAAAAAAAFAAkAAAACAAAAAAAFAAgAAAAAAAEAAAAFAAcAAAACAAAAAAAFAAYAAAACAAAAAAAEAAoAAAACAAAAAAAEAAkAAAABAAEAAAAEAAgAAAAAAAAAAAAEAAcAAAABAAAAAAAEAAYAAAACAAAAAAADAAoAAAACAAAAAAADAAkAAAACAAAAAAADAAgAAAACAAAAAAADAAcAAAABAAAAAAADAAYAAAABAAEAAAACAAoAAAACAAAAAAACAAkAAAACAAAAAAACAAgAAAACAAAAAAACAAcAAAACAAAAAAACAAYAAAABAAEAAAABAAoAAAABAAEAAAABAAkAAAACAAAAAAABAAgAAAAAAAEAAAABAAcAAAACAAAAAAABAAYAAAACAAAAAAAOAAsAAAABAAEAAAANAAsAAAACAAEAAAAMAAsAAAACAAAAAAALAAsAAAABAAEAAAAKAAsAAAACAAAAAAAJAAsAAAAAAAEAAAAIAAsAAAACAAAAAAAHAAsAAAACAAAAAAAGAAsAAAACAAAAAAAFAAsAAAACAAAAAAAEAAsAAAACAAAAAAADAAsAAAAAAAAAAAACAAsAAAACAAAAAAABAAsAAAACAAAAAAAAAAsAAAABAAAAAAA=")
tile_set = SubResource("TileSet_sgic3")
metadata/_edit_lock_ = true

[node name="ArrowPath" type="Line2D" parent="."]
z_index = 3
texture_filter = 1
texture_repeat = 2
points = PackedVector2Array(703, 717, 941, 567)
closed = true
width = 32.0
texture = ExtResource("12_wdb7o")
texture_mode = 1
script = ExtResource("13_0x1qk")

[connection signal="timeout" from="EnemyHandler/Timer" to="EnemyHandler" method="_on_timer_timeout"]
